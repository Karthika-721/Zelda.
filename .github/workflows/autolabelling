name: Issue Tracker Automation
on:
  issue_Description:
    types: [created]

jobs:
  auto-label-issue:
    runs-on: ubuntu-latest
    steps:
      - name: Clone Repository
        uses: actions/checkout@v2

      - name: Authenticate GitHub CLI
        run: echo "${{ secrets.GH_TOKEN }}" | gh auth login --with-token

      - name: Verify Authentication
        run: gh auth status

      - name: Add 'bug' Label if Description Contains 'bug'
        if: contains(github.event.comment.body, 'bug')
        run: |
          echo "Labeling issue as bug"
          gh issue edit ${{ github.event.issue.number }} --add-label "bug"
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}

      - name: Add 'documentation' Label if Description Contains 'documentation'
        if: contains(github.event.comment.body, 'documentation')
        run: |
          echo "Labeling issue as documentation"
          gh issue edit ${{ github.event.issue.number }} --add-label "documentation"
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}

      - name: Add 'enhancement' Label if Description Contains 'enhancement'
        if: contains(github.event.comment.body, 'enhancement')
        run: |
          echo "Labeling issue as enhancement"
          gh issue edit ${{ github.event.issue.number }} --add-label "enhancement"
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}
